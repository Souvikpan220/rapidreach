<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Premium Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --gold: #d4af37;
  --bg1: #050505;
  --bg2: #0d0a05;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Inter", sans-serif;
}

body {
  min-height: 100vh;
  background:
    radial-gradient(circle at 80% 20%, rgba(212,175,55,0.25), transparent 40%),
    radial-gradient(circle at 20% 80%, rgba(212,175,55,0.15), transparent 45%),
    linear-gradient(120deg, var(--bg1), var(--bg2));
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  color: #fff;
}

.particle {
  position: absolute;
  border: 1px solid var(--gold);
  border-radius: 50%;
  opacity: 0.2;
  animation: float 12s linear infinite;
}

@keyframes float {
  from { transform: translateY(0) scale(1); }
  to { transform: translateY(-120vh) scale(1.3); }
}

.dashboard {
  display: flex;
  gap: 18px;
  align-items: center;
}

.premium-btn {
  padding: 14px 26px;
  border-radius: 18px;
  border: 1px solid rgba(212,175,55,0.4);
  background: rgba(0,0,0,0.55);
  color: #fff;
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  backdrop-filter: blur(12px);
  transition: all 0.35s ease;
}

.premium-btn:hover {
  transform: translateY(-4px);
  border-color: var(--gold);
  box-shadow: 0 0 28px rgba(212,175,55,0.35);
}

.arrow {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  font-size: 22px;
  justify-content: center;
}

/* Modal */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: none;
  align-items: center;
  justify-content: center;
}

.modal-box {
  background: #0b0b0b;
  border-radius: 22px;
  padding: 26px;
  width: 320px;
  border: 1px solid rgba(212,175,55,0.25);
}

.modal-box h3 {
  margin-bottom: 14px;
}

.option {
  padding: 14px;
  border-radius: 14px;
  margin-bottom: 10px;
  background: #111;
  cursor: pointer;
  text-align: center;
}

.option.active {
  background: #f2c879;
  color: #000;
}

input {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border-radius: 12px;
  border: none;
}

button.submit {
  width: 100%;
  padding: 12px;
  margin-top: 14px;
  border-radius: 14px;
  background: #f2c879;
  border: none;
  cursor: pointer;
}
</style>
</head>

<body>

<script>
for (let i = 0; i < 18; i++) {
  const p = document.createElement("div");
  p.className = "particle";
  const size = Math.random() * 30 + 10;
  p.style.width = size + "px";
  p.style.height = size + "px";
  p.style.left = Math.random() * 100 + "%";
  p.style.bottom = "-60px";
  p.style.animationDuration = (8 + Math.random() * 8) + "s";
  document.body.appendChild(p);
}
</script>

<div class="dashboard">
  <button class="premium-btn arrow">‚Ä∫</button>

  <button class="premium-btn" onclick="openPlatform('tiktok')">
    üéµ TikTok
  </button>

  <button class="premium-btn" onclick="openPlatform('instagram')">
    üì∏ Instagram
  </button>
</div>

<div class="modal" id="modal">
  <div class="modal-box">
    <h3 id="modalTitle"></h3>

    <div class="option" onclick="selectService('views')">üëÅ Views</div>
    <div class="option" onclick="selectService('likes')">‚ù§Ô∏è Likes</div>

    <input id="link" placeholder="Paste link here">
    <button class="submit" onclick="submitOrder()">Submit</button>
  </div>
</div>

<script>
let currentPlatform = "";
let currentService = "";

const SERVICES = {
  tiktok: { views: { id: 2409, qty: 800 }, likes: { id: 2328, qty: 50 } },
  instagram: { views: { id: 2508, qty: 900 }, likes: { id: 2806, qty: 50 } }
};

function canUse(key, mins) {
  const last = localStorage.getItem(key);
  return !last || Date.now() - last > mins * 60000;
}

function openPlatform(p) {
  currentPlatform = p;
  document.getElementById("modalTitle").innerText =
    p === "tiktok" ? "TikTok Services" : "Instagram Services";
  document.getElementById("modal").style.display = "flex";
}

function selectService(s) {
  currentService = s;
  document.querySelectorAll(".option").forEach(o => o.classList.remove("active"));
  event.target.classList.add("active");
}

async function submitOrder() {
  const key = `${currentPlatform}_${currentService}`;
  const cooldown =
    key === "instagram_likes" ? 20 : 10;

  if (!canUse(key, cooldown)) {
    alert(currentPlatform === "tiktok"
      ? "TikTok server ratelimit"
      : "Insta server ratelimit");
    return;
  }

  const link = document.getElementById("link").value;
  const svc = SERVICES[currentPlatform][currentService];

  await fetch("/api/premium-place-order", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      service: svc.id,
      quantity: svc.qty,
      link
    })
  });

  localStorage.setItem(key, Date.now());
  alert("Order placed successfully");
  document.getElementById("modal").style.display = "none";
}
</script>

</body>
</html>
